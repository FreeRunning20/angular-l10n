



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="An Angular library to translate messages, dates and numbers">
      
      
      
        <meta name="author" content="Roberto Simonetti">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>SEO by locales - Angular localization</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#seo-by-locales" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Angular localization" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Angular localization
              </span>
              <span class="md-header-nav__topic">
                SEO by locales
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/robisim74/angular-l10n/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Angular localization" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Angular localization
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/robisim74/angular-l10n/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../quick-start/" title="Quick start" class="md-nav__link">
      Quick start
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Specification
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Specification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../library-structure/" title="Library structure" class="md-nav__link">
      Library structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting-the-translation/" title="Getting the translation" class="md-nav__link">
      Getting the translation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extra/" title="Extra" class="md-nav__link">
      Extra
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lazy-loading/" title="Lazy loaded modules & Shared modules" class="md-nav__link">
      Lazy loaded modules & Shared modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../validation/" title="Validation by locales" class="md-nav__link">
      Validation by locales
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SEO by locales
      </label>
    
    <a href="./" title="SEO by locales" class="md-nav__link md-nav__link--active">
      SEO by locales
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#localized-routing" title="Localized routing" class="md-nav__link">
    Localized routing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-hreflang-and-sitemap" title="Using hreflang and sitemap" class="md-nav__link">
    Using hreflang and sitemap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-routing" title="Default routing" class="md-nav__link">
    Default routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema" title="Schema" class="md-nav__link">
    Schema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#translation-of-title-and-meta-tags" title="Translation of title and meta tags" class="md-nav__link">
    Translation of title and meta tags
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#translation-of-json-ld-structured-data" title="Translation of JSON-LD structured data" class="md-nav__link">
    Translation of JSON-LD structured data
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interceptor/" title="Setting the locale in Accept-Language header" class="md-nav__link">
      Setting the locale in Accept-Language header
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../testing/" title="Unit testing" class="md-nav__link">
      Unit testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="Services APIs" class="md-nav__link">
      Services APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#localized-routing" title="Localized routing" class="md-nav__link">
    Localized routing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-hreflang-and-sitemap" title="Using hreflang and sitemap" class="md-nav__link">
    Using hreflang and sitemap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-routing" title="Default routing" class="md-nav__link">
    Default routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema" title="Schema" class="md-nav__link">
    Schema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#translation-of-title-and-meta-tags" title="Translation of title and meta tags" class="md-nav__link">
    Translation of title and meta tags
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#translation-of-json-ld-structured-data" title="Translation of JSON-LD structured data" class="md-nav__link">
    Translation of JSON-LD structured data
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/robisim74/angular-l10n/edit/master/docs/spec/seo.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="seo-by-locales">SEO by locales<a class="headerlink" href="#seo-by-locales" title="Permanent link">&para;</a></h1>
<p>Import the modules you need in the application root module:</p>
<pre><code class="TypeScript">@NgModule({
    imports: [
        ...
        TranslationModule.forRoot(l10nConfig)
        LocaleSeoModule.forRoot()
    ],
    ...
})
export class AppModule { }
</code></pre>

<blockquote>
<p>The order is important: always import <code>LocaleSeoModule</code> after <code>TranslationModule</code> or <code>LocalizationModule</code>.</p>
</blockquote>
<h2 id="localized-routing">Localized routing<a class="headerlink" href="#localized-routing" title="Permanent link">&para;</a></h2>
<p>In <em>locale-adaptive</em> apps (like the apps that use this library, that return different content based on the preferred locale of the visitor), <em>Google might not crawl, index, or rank all the content for different locales</em>.</p>
<p>To solve this problem, you can enable localized routing during configuration:</p>
<pre><code class="TypeScript">const l10nConfig: L10nConfig = {
    ...
    localizedRouting: {
        format: [ISOCode.Language, /* ISOCode.Script, */ /* ISOCode.Country */]
    }
};
</code></pre>

<p><strong>Features:</strong></p>
<ul>
<li>A prefix is added to the path of each navigation, containing the language or the locale, creating a semantic URL:</li>
</ul>
<pre><code>baseHref[language[-script][-country]]path

https://example.com/en/home
https://example.com/en-US/home
</code></pre>

<ul>
<li>If the localized link is called, the content is automatically translated.</li>
<li>When the language changes, the link is also updated.</li>
<li>Changes to localized links do not change browser history.</li>
<li>It works also with SSR.</li>
</ul>
<p>To achieve this, the router configuration in your app is not rewritten (operation that would poor performance and could cause errors): the <code>Location</code> class provided by Angular is used for the replacement of the URL, in order to provide the different contents localized both to the crawlers and to the users that can refer to the localized links.</p>
<blockquote>
<p>Since the link contains only the locale, if your app also uses <em>numbering system</em>, <em>calendar</em>, <em>currency</em> or <em>timezone</em>, you should set <em>schema</em> option below.</p>
</blockquote>
<h3 id="using-hreflang-and-sitemap">Using <em>hreflang</em> and <em>sitemap</em><a class="headerlink" href="#using-hreflang-and-sitemap" title="Permanent link">&para;</a></h3>
<p>You can use the <em>sitemap</em> to tell Google all of the locale variants for each URL:</p>
<pre><code class="XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot; xmlns:xhtml=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
  &lt;url&gt;
    &lt;loc&gt;https://example.com/en/home&lt;/loc&gt;
    &lt;xhtml:link rel=&quot;alternate&quot; hreflang=&quot;it&quot; href=&quot;https://example.com/en/home&quot;/&gt;
    &lt;xhtml:link rel=&quot;alternate&quot; hreflang=&quot;en&quot; href=&quot;https://example.com/it/home&quot;/&gt;
    ...
    &lt;xhtml:link rel=&quot;alternate&quot; hreflang=&quot;x-default&quot; href=&quot;https://example.com/home&quot;/&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;https://example.com/it/home&lt;/loc&gt;
    ...
  &lt;/url&gt;
  ...
&lt;/urlset&gt;
</code></pre>

<p>For more info, visit <a href="https://support.google.com/webmasters/topic/2370587?hl=en&amp;ref_topic=4598733">Search Console Help - International</a></p>
<h3 id="default-routing">Default routing<a class="headerlink" href="#default-routing" title="Permanent link">&para;</a></h3>
<p>If you don't want a localized routing for default language or locale, you can enable it during the configuration:</p>
<pre><code class="TypeScript">const l10nConfig: L10nConfig = {
    ...
    localizedRouting: {
        format: [ISOCode.Language, /* ISOCode.Script, */ /* ISOCode.Country */],
        defaultRouting: true
    }
};
</code></pre>

<h3 id="schema">Schema<a class="headerlink" href="#schema" title="Permanent link">&para;</a></h3>
<p>If your app uses <em>numbering system</em>, <em>calendar</em>, <em>currency</em> or <em>timezone</em>, it is recommended to provide the <code>schema</code> option, to manage the localized links and refreshes:</p>
<pre><code class="TypeScript">const l10nConfig: L10nConfig = {
    ...
    localizedRouting: {
        format: [ISOCode.Language, ISOCode.Country],
        schema: [
            { text: 'United States', languageCode: 'en', countryCode: 'US', currency: 'USD' },
            { text: 'Italia', languageCode: 'it', countryCode: 'IT', currency: 'EUR' },
        ]
    }
};
</code></pre>

<hr />
<h2 id="translation-of-title-and-meta-tags">Translation of <em>title</em> and meta tags<a class="headerlink" href="#translation-of-title-and-meta-tags" title="Permanent link">&para;</a></h2>
<p>To translate the <em>title</em> and other meta tags you can use the <code>updateHead</code> method of <code>SearchService</code>, passing the key <em>path</em> of the page:</p>
<pre><code class="TypeScript">class HomeComponent implements OnInit {

    constructor(private search: SearchService) { }

    ngOnInit(): void {
        this.search.updateHead('home');
    }

}
</code></pre>

<p>Basically, only the <em>title</em> is translated. To translate meta tags, you must pass them during configuration:</p>
<pre><code class="TypeScript">const l10nConfig: L10nConfig = {
    ...
    translation: {
        ...
        composedKeySeparator: '.'
    },
    search: {
        metaTags: ['description']
    }
};
</code></pre>

<p><em>JSON</em>:</p>
<pre><code>{
    &quot;home&quot;: {
        &quot;title&quot;: &quot;Angular localization&quot;,
        &quot;description&quot;: &quot;An Angular library to translate messages, dates and numbers&quot;
    }
}
</code></pre>

<hr />
<h2 id="translation-of-json-ld-structured-data">Translation of JSON-LD structured data<a class="headerlink" href="#translation-of-json-ld-structured-data" title="Permanent link">&para;</a></h2>
<p>To translate structured data in JSON-LD format, you can use the <code>l10n-json-ld</code> component, passing the key <em>path</em> of the schema:</p>
<pre><code class="TypeScript">@Component({
    template: `&lt;l10n-json-ld path=&quot;corporationSchema&quot;&gt;&lt;/l10n-json-ld&gt;`
})
class HomeComponent { }
</code></pre>

<p><em>JSON</em>:</p>
<pre><code>{
    &quot;corporationSchema&quot;: {
        &quot;@context&quot;: &quot;http://schema.org&quot;,
        &quot;@type&quot;: &quot;Corporation&quot;,
        &quot;name&quot;: &quot;New Artisan&quot;,
        &quot;description&quot;: &quot;Design and development of web applications&quot;
    }
}
</code></pre>

<blockquote>
<p>Note that Google <em>Structured Data Testing tool</em> won't work, because it only renders <code>index.html</code>, but the crawlers do.</p>
</blockquote>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../validation/" title="Validation by locales" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Validation by locales
              </span>
            </div>
          </a>
        
        
          <a href="../interceptor/" title="Setting the locale in Accept-Language header" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Setting the locale in Accept-Language header
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/robisim74" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/robisim74" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>