



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="An Angular library to translate messages, dates and numbers">
      
      
      
        <meta name="author" content="Roberto Simonetti">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Quick start - Angular localization</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#quick-start" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Angular localization" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Angular localization
              </span>
              <span class="md-header-nav__topic">
                Quick start
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/robisim74/angular-l10n/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Angular localization" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Angular localization
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/robisim74/angular-l10n/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Quick start
      </label>
    
    <a href="./" title="Quick start" class="md-nav__link md-nav__link--active">
      Quick start
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-scenario-you-only-need-to-translate-texts" title="First scenario: you only need to translate texts" class="md-nav__link">
    First scenario: you only need to translate texts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-directives" title="Using directives" class="md-nav__link">
    Using directives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#second-scenario-you-need-to-translate-texts-dates-numbers" title="Second scenario: you need to translate texts, dates &amp; numbers" class="md-nav__link">
    Second scenario: you need to translate texts, dates &amp; numbers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-directives_1" title="Using directives" class="md-nav__link">
    Using directives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-initialization" title="Advanced initialization" class="md-nav__link">
    Advanced initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-using-angular-cli" title="Appendix A - Using Angular CLI" class="md-nav__link">
    Appendix A - Using Angular CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-b-using-ionic" title="Appendix B - Using Ionic" class="md-nav__link">
    Appendix B - Using Ionic
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-c-using-angular-meteor" title="Appendix C - Using Angular Meteor" class="md-nav__link">
    Appendix C - Using Angular Meteor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-d-using-angular-universal" title="Appendix D - Using Angular Universal" class="md-nav__link">
    Appendix D - Using Angular Universal
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerender-prerender" title="Prerender (prerender)" class="md-nav__link">
    Prerender (prerender)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-side-rendering-ssr" title="Server-Side Rendering (ssr)" class="md-nav__link">
    Server-Side Rendering (ssr)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Specification
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Specification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/library-structure/" title="Library structure" class="md-nav__link">
      Library structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/getting-the-translation/" title="Getting the translation" class="md-nav__link">
      Getting the translation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/extra/" title="Extra" class="md-nav__link">
      Extra
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/lazy-loading/" title="Lazy loaded modules & Shared modules" class="md-nav__link">
      Lazy loaded modules & Shared modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/validation/" title="Validation by locales" class="md-nav__link">
      Validation by locales
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/seo/" title="SEO by locales" class="md-nav__link">
      SEO by locales
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/interceptor/" title="Setting the locale in Accept-Language header" class="md-nav__link">
      Setting the locale in Accept-Language header
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/testing/" title="Unit testing" class="md-nav__link">
      Unit testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spec/api/" title="Services APIs" class="md-nav__link">
      Services APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-scenario-you-only-need-to-translate-texts" title="First scenario: you only need to translate texts" class="md-nav__link">
    First scenario: you only need to translate texts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-directives" title="Using directives" class="md-nav__link">
    Using directives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#second-scenario-you-need-to-translate-texts-dates-numbers" title="Second scenario: you need to translate texts, dates &amp; numbers" class="md-nav__link">
    Second scenario: you need to translate texts, dates &amp; numbers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-directives_1" title="Using directives" class="md-nav__link">
    Using directives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-initialization" title="Advanced initialization" class="md-nav__link">
    Advanced initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-using-angular-cli" title="Appendix A - Using Angular CLI" class="md-nav__link">
    Appendix A - Using Angular CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-b-using-ionic" title="Appendix B - Using Ionic" class="md-nav__link">
    Appendix B - Using Ionic
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-c-using-angular-meteor" title="Appendix C - Using Angular Meteor" class="md-nav__link">
    Appendix C - Using Angular Meteor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-d-using-angular-universal" title="Appendix D - Using Angular Universal" class="md-nav__link">
    Appendix D - Using Angular Universal
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerender-prerender" title="Prerender (prerender)" class="md-nav__link">
    Prerender (prerender)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-side-rendering-ssr" title="Server-Side Rendering (ssr)" class="md-nav__link">
    Server-Side Rendering (ssr)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/robisim74/angular-l10n/edit/master/docs/quick-start.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="quick-start">Quick start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h1>
<h2 id="first-scenario-you-only-need-to-translate-texts">First scenario: you only need to translate texts<a class="headerlink" href="#first-scenario-you-only-need-to-translate-texts" title="Permanent link">&para;</a></h2>
<p>Install the library:</p>
<pre><code class="Shell">npm install angular-l10n --save
</code></pre>

<p>Import the modules you need and configure the library in <code>app.module.ts</code>:</p>
<pre><code class="TypeScript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';

import { AppComponent } from './app.component';
import { HomeComponent } from './home/home.component';

import { L10nConfig, L10nLoader, TranslationModule, StorageStrategy, ProviderType, LogLevel } from 'angular-l10n';

const l10nConfig: L10nConfig = {
    logger: {
        level: LogLevel.Warn
    },
    locale: {
        languages: [
            { code: 'en', dir: 'ltr' },
            { code: 'it', dir: 'ltr' }
        ],
        language: 'en',
        storage: StorageStrategy.Cookie
    },
    translation: {
        providers: [
            { type: ProviderType.Static, prefix: './assets/locale-' }
        ],
        caching: true,
        composedKeySeparator: '.',
        missingValue: 'No key'
    }
};

@NgModule({
    imports: [
        BrowserModule,
        HttpClientModule,
        TranslationModule.forRoot(l10nConfig)
    ],
    declarations: [AppComponent, HomeComponent],
    bootstrap: [AppComponent]
})
export class AppModule {

    constructor(public l10nLoader: L10nLoader) {
        this.l10nLoader.load();
    }

}
</code></pre>

<p>Add to <code>app.component.ts</code>:</p>
<pre><code class="TypeScript">import { Component, OnInit } from '@angular/core';

import { LocaleService, TranslationService, Language } from 'angular-l10n';

@Component({
    selector: 'app-root',
    template: `
        &lt;h1&gt;{{ title }}&lt;/h1&gt;

        &lt;h3&gt;{{ 'changeLanguage' | translate:lang }}&lt;/h3&gt;

        &lt;button (click)=&quot;selectLanguage('en');&quot;&gt;English&lt;/button&gt;
        &lt;button (click)=&quot;selectLanguage('it');&quot;&gt;Italiano&lt;/button&gt;

        &lt;app-home&gt;&lt;/app-home&gt;
    `
})
export class AppComponent implements OnInit {

    @Language() lang: string;

    title: string;

    constructor(public locale: LocaleService, public translation: TranslationService) { }

    ngOnInit(): void {
        this.translation.translationChanged().subscribe(
            () =&gt; { this.title = this.translation.translate('title'); }
        );
    }

    selectLanguage(language: string): void {
        this.locale.setCurrentLanguage(language);
    }

}
</code></pre>

<p>Add <code>home.component.ts</code>:</p>
<pre><code class="TypeScript">import { Component, OnInit } from '@angular/core';

import { Language } from 'angular-l10n';

@Component({
    selector: 'app-home',
    template: `
        &lt;p&gt;{{ 'greeting' | translate:lang }}&lt;/p&gt;

        &lt;p title=&quot;{{ 'greeting' | translate:lang }}&quot;&gt;{{ 'subtitle' | translate:lang }}&lt;/p&gt;
    `
})
export class HomeComponent implements OnInit {

    @Language() lang: string;

    ngOnInit(): void { }

}
</code></pre>

<blockquote>
<p>To use AoT compilation you have to implement OnInit, and to cancel subscriptions OnDestroy, even if they are empty.</p>
</blockquote>
<p>Create the <em>json</em> files of the translations such as <code>locale-en.json</code> and <code>locale-it.json</code> in <code>src/assets</code> folder:</p>
<pre><code class="Json">{
    &quot;title&quot;: &quot;Angular localization&quot;,
    &quot;subtitle&quot;: &quot;It's a small world&quot;,
    &quot;changeLanguage&quot;: &quot;Change language&quot;,
    &quot;greeting&quot;: &quot;Hi!&quot;
}
</code></pre>

<pre><code class="Json">{
    &quot;title&quot;: &quot;Localizzazione in Angular&quot;,
    &quot;subtitle&quot;: &quot;Il mondo è piccolo&quot;,
    &quot;changeLanguage&quot;: &quot;Cambia lingua&quot;,
    &quot;greeting&quot;: &quot;Ciao!&quot;
}
</code></pre>

<h3 id="using-directives">Using directives<a class="headerlink" href="#using-directives" title="Permanent link">&para;</a></h3>
<p>In addition to the <em>pipes</em>, you can use <em>directives</em>. Try to change <code>home.component.ts</code>:</p>
<pre><code class="TypeScript">import { Component } from '@angular/core';

@Component({
    selector: 'app-home',
    template: `
        &lt;p l10nTranslate&gt;greeting&lt;/p&gt;

        &lt;p l10n-title title=&quot;greeting&quot; l10nTranslate&gt;subtitle&lt;/p&gt;
    `
})
export class HomeComponent { }
</code></pre>

<blockquote>
<p>Note that if you use in the component only the <em>directives</em> and not the <em>pipes</em>, you don't need to use <code>@Language()</code> <em>decorator</em>.</p>
</blockquote>
<hr />
<h2 id="second-scenario-you-need-to-translate-texts-dates-numbers">Second scenario: you need to translate texts, dates &amp; numbers<a class="headerlink" href="#second-scenario-you-need-to-translate-texts-dates-numbers" title="Permanent link">&para;</a></h2>
<p>Install the library:</p>
<pre><code class="Shell">npm install angular-l10n --save
</code></pre>

<p>Import the modules you need and configure the library in <code>app.module.ts</code>:</p>
<pre><code class="TypeScript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';

import { AppComponent } from './app.component';
import { HomeComponent } from './home/home.component';

import { L10nConfig, L10nLoader, LocalizationModule, StorageStrategy, ProviderType, LogLevel } from 'angular-l10n';

const l10nConfig: L10nConfig = {
    logger: {
        level: LogLevel.Warn
    },
    locale: {
        languages: [
            { code: 'en', dir: 'ltr' },
            { code: 'it', dir: 'ltr' }
        ],
        defaultLocale: { languageCode: 'en', countryCode: 'US' },
        currency: 'USD',
        storage: StorageStrategy.Cookie
    },
    translation: {
        providers: [
            { type: ProviderType.Static, prefix: './assets/locale-' }
        ],
        caching: true,
        composedKeySeparator: '.',
        missingValue: 'No key'
    }
};

@NgModule({
    imports: [
        BrowserModule,
        HttpClientModule,
        LocalizationModule.forRoot(l10nConfig)
    ],
    declarations: [AppComponent, HomeComponent],
    bootstrap: [AppComponent]
})
export class AppModule {

    constructor(public l10nLoader: L10nLoader) {
        this.l10nLoader.load();
    }

}
</code></pre>

<p>Add to <code>app.component.ts</code>:</p>
<pre><code class="TypeScript">import { Component, OnInit } from '@angular/core';

import { LocaleService, TranslationService, Language } from 'angular-l10n';

@Component({
    selector: 'app-root',
    template: `
        &lt;h1&gt;{{ title }}&lt;/h1&gt;

        &lt;h3&gt;{{ 'changeCountry' | translate:lang }}&lt;/h3&gt;

        &lt;button (click)=&quot;selectLocale('en', 'US', 'USD');&quot;&gt;United States&lt;/button&gt;
        &lt;button (click)=&quot;selectLocale('en', 'GB', 'GBP');&quot;&gt;United Kingdom&lt;/button&gt;
        &lt;button (click)=&quot;selectLocale('it', 'IT', 'EUR');&quot;&gt;Italia&lt;/button&gt;

        &lt;app-home&gt;&lt;/app-home&gt;
    `
})
export class AppComponent implements OnInit {

    @Language() lang: string;

    title: string;

    constructor(public locale: LocaleService, public translation: TranslationService) { }

    ngOnInit(): void {
        this.translation.translationChanged().subscribe(
            () =&gt; { this.title = this.translation.translate('title'); }
        );
    }

    selectLocale(language: string, country: string, currency: string): void {
        this.locale.setDefaultLocale(language, country);
        this.locale.setCurrentCurrency(currency);
    }

}
</code></pre>

<p>Add <code>home.component.ts</code>:</p>
<pre><code class="TypeScript">import { Component, OnInit } from '@angular/core';

import { Language, DefaultLocale, Currency } from 'angular-l10n';

@Component({
    selector: 'app-home',
    template: `
        &lt;p&gt;{{ 'greeting' | translate:lang }}&lt;/p&gt;

        &lt;p title=&quot;{{ 'greeting' | translate:lang }}&quot;&gt;{{ 'subtitle' | translate:lang }}&lt;/p&gt;

        &lt;p&gt;{{ today | l10nDate:defaultLocale:'fullDate' }}&lt;/p&gt;       
        &lt;p&gt;{{ pi | l10nDecimal:defaultLocale:'1.5-5' }}&lt;/p&gt;
        &lt;p&gt;{{ value | l10nCurrency:defaultLocale:currency:'symbol':'1.2-2' }}&lt;/p&gt;

        &lt;button (click)=&quot;change()&quot;&gt;{{ 'change' | translate:lang }}&lt;/button&gt;
    `
})
export class HomeComponent implements OnInit {

    @Language() lang: string;
    @DefaultLocale() defaultLocale: string;
    @Currency() currency: string;

    today: number;
    pi: number;
    value: number;

    ngOnInit(): void {
        this.today = Date.now();
        this.pi = 3.14159;
        this.value = Math.round(Math.random() * 1000000) / 100;
    }

    change(): void {
        this.value = Math.round(Math.random() * 1000000) / 100;
    }

}
</code></pre>

<blockquote>
<p>To use AoT compilation you have to implement OnInit, and to cancel subscriptions OnDestroy, even if they are empty.</p>
</blockquote>
<p>Create the <em>json</em> files of the translations such as <code>locale-en.json</code> and <code>locale-it.json</code> in <code>src/assets</code> folder:</p>
<pre><code class="Json">{
    &quot;title&quot;: &quot;Angular localization&quot;,
    &quot;subtitle&quot;: &quot;It's a small world&quot;,
    &quot;changeCountry&quot;: &quot;Change country&quot;,
    &quot;greeting&quot;: &quot;Hi!&quot;,
    &quot;change&quot;: &quot;Change&quot;
}
</code></pre>

<pre><code class="Json">{
    &quot;title&quot;: &quot;Localizzazione in Angular&quot;,
    &quot;subtitle&quot;: &quot;Il mondo è piccolo&quot;,
    &quot;changeCountry&quot;: &quot;Cambia Paese&quot;,
    &quot;greeting&quot;: &quot;Ciao!&quot;,
    &quot;change&quot;: &quot;Cambia&quot;
}
</code></pre>

<p>Finally, to extend the support to old browsers, add the following script tag in <code>index.html</code>:</p>
<pre><code class="Html">&lt;script src=&quot;https://cdn.polyfill.io/v2/polyfill.min.js?features=Intl.~locale.en-US,Intl.~locale.en-GB,Intl.~locale.it-IT&quot;&gt;&lt;/script&gt;
</code></pre>

<h3 id="using-directives_1">Using directives<a class="headerlink" href="#using-directives_1" title="Permanent link">&para;</a></h3>
<p>In addition to the <em>pipes</em>, you can use <em>directives</em>. Try to change <code>home.component.ts</code>:</p>
<pre><code class="TypeScript">import { Component, OnInit } from '@angular/core';

@Component({
    selector: 'app-home',
    template: `
        &lt;p l10nTranslate&gt;greeting&lt;/p&gt;

        &lt;p l10n-title title=&quot;greeting&quot; l10nTranslate&gt;subtitle&lt;/p&gt;

        &lt;p format=&quot;fullDate&quot; l10nDate&gt;{{ today }}&lt;/p&gt;    
        &lt;p digits=&quot;1.5-5&quot; l10nDecimal&gt;{{ pi }}&lt;/p&gt;
        &lt;p digits=&quot;1.2-2&quot; currencyDisplay=&quot;symbol&quot; l10nCurrency&gt;{{ value }}&lt;/p&gt;

        &lt;button (click)=&quot;change()&quot; l10nTranslate&gt;change&lt;/button&gt;
    `
})
export class HomeComponent implements OnInit {

    today: number;
    pi: number;
    value: number;

    ngOnInit(): void {
        this.today = Date.now();
        this.pi = 3.14159;
        this.value = Math.round(Math.random() * 1000000) / 100;
    }

    change(): void {
        this.value = Math.round(Math.random() * 1000000) / 100;
    }

}
</code></pre>

<blockquote>
<p>Note that if you use in the component only the <em>directives</em> and not the <em>pipes</em>, you don't need to use <em>decorators</em>.</p>
</blockquote>
<hr />
<h2 id="advanced-initialization">Advanced initialization<a class="headerlink" href="#advanced-initialization" title="Permanent link">&para;</a></h2>
<p>If you want the app to be rendered only after the translation file is loaded, 
you can use these settings in <code>app.module.ts</code>:</p>
<pre><code class="TypeScript">import { NgModule, APP_INITIALIZER } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { HttpClientModule } from '@angular/common/http';

import { AppComponent } from './app.component';
import { HomeComponent } from './home/home.component';

import { L10nConfig, L10nLoader, TranslationModule, StorageStrategy, ProviderType, LogLevel } from 'angular-l10n';

const l10nConfig: L10nConfig = {
    logger: {
        level: LogLevel.Warn
    },
    locale: {
        languages: [
            { code: 'en', dir: 'ltr' },
            { code: 'it', dir: 'ltr' }
        ],
        language: 'en',
        storage: StorageStrategy.Cookie
    },
    translation: {
        providers: [
            { type: ProviderType.Static, prefix: './assets/locale-' }
        ],
        caching: true,
        composedKeySeparator: '.',
        missingValue: 'No key'
    }
};

// Advanced initialization.
export function initL10n(l10nLoader: L10nLoader): Function {
    return () =&gt; l10nLoader.load();
}

// APP_INITIALIZER will execute the function when the app is initialized and delay what it provides.
@NgModule({
    imports: [
        BrowserModule,
        HttpClientModule,
        TranslationModule.forRoot(l10nConfig)
    ],
    declarations: [AppComponent, HomeComponent],
    providers: [
        {
            provide: APP_INITIALIZER,
            useFactory: initL10n,
            deps: [L10nLoader],
            multi: true
        }
    ],
    bootstrap: [AppComponent]
})
export class AppModule { }
</code></pre>

<hr />
<h2 id="appendix-a-using-angular-cli">Appendix A - Using Angular CLI<a class="headerlink" href="#appendix-a-using-angular-cli" title="Permanent link">&para;</a></h2>
<p>If you are using <em>Angular CLI</em>, you have to add the <em>json</em> files in <code>src/assets</code> folder, 
copied as-is when building your project. 
Always configure your provider in this way:</p>
<pre><code class="TypeScript">...
    providers: [
        { type: ProviderType.Static, prefix: './assets/locale-' }
    ],
...
</code></pre>

<hr />
<h2 id="appendix-b-using-ionic">Appendix B - Using Ionic<a class="headerlink" href="#appendix-b-using-ionic" title="Permanent link">&para;</a></h2>
<p>You have to add the <em>json</em> files in <code>www/assets</code> folder. 
Always configure your provider in this way:</p>
<pre><code class="TypeScript">...
    providers: [
        { type: ProviderType.Static, prefix: './assets/locale-' }
    ],
...
</code></pre>

<hr />
<h2 id="appendix-c-using-angular-meteor">Appendix C - Using Angular Meteor<a class="headerlink" href="#appendix-c-using-angular-meteor" title="Permanent link">&para;</a></h2>
<p>You must create <code>public/assets</code> folder at the root of your app. 
In this way, <code>assets</code> folder is copied directly into your application bundle. 
Always configure your provider in this way:</p>
<pre><code class="TypeScript">...
    providers: [
        { type: ProviderType.Static, prefix: './assets/locale-' }
    ],
...
</code></pre>

<hr />
<h2 id="appendix-d-using-angular-universal">Appendix D - Using Angular Universal<a class="headerlink" href="#appendix-d-using-angular-universal" title="Permanent link">&para;</a></h2>
<p>There are two ways:</p>
<h3 id="prerender-prerender">Prerender (prerender)<a class="headerlink" href="#prerender-prerender" title="Permanent link">&para;</a></h3>
<ul>
<li>Happens at build time.</li>
<li>Renders your application and replaces the dist <em>index.html</em> with a version rendered at the route <code>/</code>.</li>
</ul>
<h3 id="server-side-rendering-ssr">Server-Side Rendering (ssr)<a class="headerlink" href="#server-side-rendering-ssr" title="Permanent link">&para;</a></h3>
<ul>
<li>Happens at runtime.</li>
<li>Uses a server <em>Engine</em> to render you application on the fly at the requested url.</li>
</ul>
<p><strong>Note</strong></p>
<ul>
<li>This library builds only one app, and not an app for each language as <em>Angular i18n</em> native solution: so your prerendered <code>index.html</code> will contain the translation according to the language defined during the configuration.</li>
<li>If you use <em>Direct loading</em>, there are no particular warnings.</li>
<li>If you use <em>Asynchronous loading</em>, you have to solve the problem of <em>http requests</em> during <em>prerender</em> or <em>ssr</em>:<ul>
<li>About <em>prerender</em>: you need to provide <em>absolute URLs</em> to a running server that will be the same that will serve the data (or through a proxy): if this is not possible and you want to use the <em>prerender</em> instead of <em>ssr</em>, you should use <em>Angular i18n</em> native solution.</li>
<li>About <em>ssr</em>: you only need to use <em>absolute URLs</em>, so for example:</li>
</ul>
</li>
</ul>
<pre><code class="TypeScript">...
providers: [
    { type: ProviderType.Static, prefix: 'http:localhost:4000/assets/locale-' }
],
...
</code></pre>

<blockquote>
<p>Please note that problems with <em>http requests</em> are not due to this library, but to common questions about <em>http requests</em> in <em>Universal</em> apps.</p>
</blockquote>
<p>The following is an example that uses <em>Asynchronous loading</em>, based on <em>Angular Universal Starter</em>:</p>
<p><code>app.module.ts</code>:</p>
<pre><code class="TypeScript">const l10nConfig: L10nConfig = {
    logger: {
        level: LogLevel.Warn
    },
    locale: {
        languages: [
            { code: 'en', dir: 'ltr' },
            { code: 'it', dir: 'ltr' }
        ],
        defaultLocale: { languageCode: 'en', countryCode: 'US' },
        currency: 'USD',
        storage: StorageStrategy.Cookie
    },
    translation: {
        providers: [],
        caching: true
    }
};

@Injectable() export class LocalizationConfig {

    constructor(
        public l10nLoader: L10nLoader,
        @Inject(L10N_CONFIG) private configuration: L10nConfigRef,
        @Inject(PLATFORM_ID) private platformId: Object
    ) { }

    load(): Promise&lt;any&gt; {
        if (isPlatformBrowser(this.platformId)) {
            // Client only code.
            this.configuration.translation.providers = [
                { type: ProviderType.Static, prefix: './assets/locale-' }
            ];
        }
        if (isPlatformServer(this.platformId)) {
            // Server only code.
            this.configuration.translation.providers = [
                { type: ProviderType.Static, prefix: 'http://localhost:4000/assets/locale-' }
            ];
        }

        return this.l10nLoader.load();
    }

}

export function initLocalization(localizationConfig: LocalizationConfig): Function {
    return () =&gt; localizationConfig.load();
}

@NgModule({
    ...
    imports: [
        ...
        HttpClientModule,
        LocalizationModule.forRoot(l10nConfig)
    ],
    providers: [
        LocalizationConfig,
        {
            provide: APP_INITIALIZER,
            useFactory: initLocalization,
            deps: [LocalizationConfig],
            multi: true
        }
    ],
    bootstrap: [AppComponent]
})
export class AppModule { }

</code></pre>

<p>Now, depending on whether you want to use the <em>prerender</em> or <em>ssr</em> in production, you must proceed as follows:</p>
<p><strong>prerender</strong></p>
<pre><code class="Shell">npm run build:ssr
npm run serve:ssr
</code></pre>

<p>The server is ready, so you can generate the pre-built files. Open a <em>new terminal</em> and type:</p>
<pre><code class="Shell">npm run generate:prerender
</code></pre>

<p>If you see in the <em>dist/browser</em> folder, your <em>html</em> files should have the translated values (in the default language).
To test it:</p>
<pre><code class="Shell">npm run serve:prerender
</code></pre>

<p><strong>ssr</strong></p>
<pre><code class="Shell">npm run build:ssr
npm run serve:ssr
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../spec/library-structure/" title="Library structure" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Library structure
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/robisim74" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/robisim74" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>